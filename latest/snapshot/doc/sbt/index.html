<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="microsite">
<meta name="generator" content="Paradox, paradox-material-theme=0.9.6-SNAPSHOT, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="microsite">
<link rel="shortcut icon" href="../assets/images/favicon.png">
<title>SBT Toolkit ? Izumi Project</title>
<link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="Izumi Project" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Izumi Project
</span>
<span class="md-header-nav__topic">
SBT Toolkit
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/7mind/izumi"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
7mind/izumi
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../index.html" title="Izumi Project" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="../index.html" title="Izumi Project">
Izumi Project
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/7mind/izumi"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
7mind/izumi
</div>
</a>

</div>
<ul>
  <li><a href="../idealingua/index.html" class="page">IdeaLingua RPC &amp; Domain Modeling Language</a>
  <ul>
    <li><a href="../idealingua/language-reference.html" class="page">Idealingua Language Reference</a></li>
    <li><a href="../idealingua/json.html" class="page">JSON Wire Format</a></li>
    <li><a href="../idealingua/cogen.html" class="page">Code generator reference</a></li>
    <li><a href="../idealingua/cogen-circe.html" class="page">Circe serialization reference</a></li>
  </ul></li>
  <li><a href="../distage/index.html" class="page">distage: Staged Dependency Injection</a>
  <ul>
    <li><a href="../distage/basics.html" class="page">Basics</a></li>
    <li><a href="../distage/config_injection.html" class="page">Config Injection</a></li>
    <li><a href="../distage/other-features.html" class="page">Other Features</a></li>
    <li><a href="../distage/debugging.html" class="page">Debugging</a></li>
    <li><a href="../distage/cookbook.html" class="page">Cookbook</a></li>
    <li><a href="../distage/roles.html" class="page">Role-Based Applications</a></li>
    <li><a href="../distage/testkit.html" class="page">Testkit</a></li>
    <li><a href="../distage/reference.html" class="page">Syntax Summary</a></li>
  </ul></li>
  <li><a href="../logstage/index.html" class="page">LogStage</a>
  <ul>
    <li><a href="../logstage/policy.html" class="page">Rendering policy</a></li>
    <li><a href="../logstage/config.html" class="page">Logstage Config</a></li>
    <li><a href="../logstage/custom_ctx.html" class="page">Custom Context</a></li>
  </ul></li>
  <li><a href="../sbt/index.html" class="active page">SBT Toolkit</a></li>
  <li><a href="../manifesto/index.html" class="page">Productivity and challenges</a></li>
  <li><a href="../pper/index.html" class="page">PPER Pattern</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../sbt/index.html#sbt-toolkit" class="header">SBT Toolkit</a>
  <ul>
    <li><a href="../sbt/index.html#global-plugins" class="header">Global plugins</a></li>
    <li><a href="../sbt/index.html#environmental-plugins" class="header">Environmental plugins</a></li>
    <li><a href="../sbt/index.html#presets" class="header">Presets</a></li>
    <li><a href="../sbt/index.html#optional-plugins" class="header">Optional plugins</a></li>
    <li><a href="../sbt/index.html#installation" class="header">Installation</a></li>
    <li><a href="../sbt/index.html#inherited-test-scopes" class="header">Inherited Test Scopes</a></li>
    <li><a href="../sbt/index.html#settings-dsl" class="header">Settings DSL</a></li>
    <li><a href="../sbt/index.html#build-descriptors" class="header">Build Descriptors</a></li>
    <li><a href="../sbt/index.html#convenience-helpers" class="header">Convenience Helpers</a></li>
    <li><a href="../sbt/index.html#optional-settings" class="header">Optional settings</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.9.6*
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../sbt/index.html#sbt-toolkit" class="header">SBT Toolkit</a>
  <ul>
    <li><a href="../sbt/index.html#global-plugins" class="header">Global plugins</a></li>
    <li><a href="../sbt/index.html#environmental-plugins" class="header">Environmental plugins</a></li>
    <li><a href="../sbt/index.html#presets" class="header">Presets</a></li>
    <li><a href="../sbt/index.html#optional-plugins" class="header">Optional plugins</a></li>
    <li><a href="../sbt/index.html#installation" class="header">Installation</a></li>
    <li><a href="../sbt/index.html#inherited-test-scopes" class="header">Inherited Test Scopes</a></li>
    <li><a href="../sbt/index.html#settings-dsl" class="header">Settings DSL</a></li>
    <li><a href="../sbt/index.html#build-descriptors" class="header">Build Descriptors</a></li>
    <li><a href="../sbt/index.html#convenience-helpers" class="header">Convenience Helpers</a></li>
    <li><a href="../sbt/index.html#optional-settings" class="header">Optional settings</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#sbt-toolkit" name="sbt-toolkit" class="anchor"><span class="anchor-link"></span></a>SBT Toolkit</h1><div class="callout warning "><div class="callout-title">MOVED</div>
<p>Moved to <a href="https://github.com/7mind/sbtgen/">https://github.com/7mind/sbtgen/</a></p></div>
<p>Izumi provides you a bunch of sbt plugins allowing you to significantly reduce size and increase clarity of huge multi-module builds.</p>
<p>To start using Izumi plugins add the following into your <code>project/plugins.sbt</code>:</p>
<pre class="prettyprint"><code class="language-scala">val izumi_version = &quot;0.9.6-SNAPSHOT&quot;
addSbtPlugin(&quot;io.7mind.izumi&quot; % &quot;sbt-izumi&quot; % izumi_version)
// This is Izumi&#39;s Bill of Materials, see below
addSbtPlugin(&quot;io.7mind.izumi&quot; % &quot;sbt-izumi-deps&quot; % izumi_version)
</code></pre>
<p>We provide you the following kinds of plugins:</p>
<ol>
  <li><em>Global plugins</em>: they add some helper sbt tasks, enabled automatically,</li>
  <li><em>Environmental plugins</em>: they change some aspects of sbt behavior in an opinionated way, intended to be enabled in the root project,</li>
  <li><em>Presets</em> - opinionated sets of environmental plugins,</li>
  <li><em>Optional plugins</em>: they provide some convenience sbt tasks, intended to be enabled manually, per-project.</li>
</ol>
<p>Important notes:</p>
<ol>
  <li>Please keep in mind no plugins are being enabled automatically,</li>
  <li>The rest of Izumi plugins are optional. You may use a preset to activate them or combine them manually as you wish (using settings groups),</li>
  <li>Some plugins can&rsquo;t be enabled globally due to sbt limitations ? they have to be enabled per-project. You should use Settings Groups in order to enable them.</li>
</ol>
<h3><a href="#global-plugins" name="global-plugins" class="anchor"><span class="anchor-link"></span></a>Global plugins</h3>
<table>
  <thead>
    <tr>
      <th>Plugin </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IzumiImportsPlugin </td>
      <td>Makes all the Izumi imports visible by default </td>
    </tr>
  </tbody>
</table>
<h3><a href="#environmental-plugins" name="environmental-plugins" class="anchor"><span class="anchor-link"></span></a>Environmental plugins</h3>
<table>
  <thead>
    <tr>
      <th>Plugin </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IzumiBuildManifestPlugin </td>
      <td>Adds build info into jar manifests </td>
    </tr>
    <tr>
      <td>IzumiConvenienceTasksPlugin </td>
      <td>Devops/workflow helpers </td>
    </tr>
    <tr>
      <td>IzumiDslPlugin </td>
      <td>Compact build definitions </td>
    </tr>
    <tr>
      <td>IzumiGitStampPlugin </td>
      <td>Adds GIT status into jar manifests </td>
    </tr>
    <tr>
      <td>IzumiPropertiesPlugin </td>
      <td>Convenience helpers for <code>sys.props</code> </td>
    </tr>
    <tr>
      <td>IzumiResolverPlugin </td>
      <td>Better defaults for artifact resolution </td>
    </tr>
    <tr>
      <td>IzumiInheritedTestScopesPlugin </td>
      <td>Convenience helpers for test scope inheritance </td>
    </tr>
  </tbody>
</table>
<h3><a href="#presets" name="presets" class="anchor"><span class="anchor-link"></span></a>Presets</h3>
<table>
  <thead>
    <tr>
      <th>Plugin </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IzumiEnvironment </td>
      <td>All the environmental plugins except of GIT one </td>
    </tr>
    <tr>
      <td>IzumiGitEnvironment </td>
      <td>All the environmental plugins with GIT one </td>
    </tr>
  </tbody>
</table>
<h3><a href="#optional-plugins" name="optional-plugins" class="anchor"><span class="anchor-link"></span></a>Optional plugins</h3>
<table>
  <thead>
    <tr>
      <th>Plugin </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IzumiExposedTestScopesPlugin </td>
      <td>Maintains test scope separation </td>
    </tr>
    <tr>
      <td>IzumiCompilerOptionsPlugin </td>
      <td>Some linting/optimization presets for scalac/javac </td>
    </tr>
    <tr>
      <td>IzumiFetchPlugin </td>
      <td>Allows you to transitively download artifacts from remote repositories </td>
    </tr>
    <tr>
      <td>IzumiPublishingPlugin </td>
      <td>Some convenience helpers and improvements for artifact publishing </td>
    </tr>
    <tr>
      <td>IzumiBuildInfoPlugin </td>
      <td>Generates sbt-compatible BOMs ? <a href="#bills-of-materials">Bills of Materials</a> </td>
    </tr>
  </tbody>
</table>
<h3><a href="#installation" name="installation" class="anchor"><span class="anchor-link"></span></a>Installation</h3>
<p>To activate all the plugins add the following statements into your root project:</p>
<pre class="prettyprint"><code class="language-scala">enablePlugins(IzumiGitEnvironmentPlugin)
</code></pre>
<p>If you don&rsquo;t use <code>git</code> in your project, use this preset instead:</p>
<pre class="prettyprint"><code class="language-scala">enablePlugins(IzumiEnvironmentPlugin)
</code></pre>
<p>To activate Comp</p>
<pre class="prettyprint"><code class="language-scala">val GlobalSettings = new DefaultGlobalSettingsGroup {
  override val plugins = Set(IzumiCompilerOptionsPlugin, IzumiExposedTestScopesPlugin)
}
</code></pre>
<h2><a href="#inherited-test-scopes" name="inherited-test-scopes" class="anchor"><span class="anchor-link"></span></a>Inherited Test Scopes</h2>
<h3><a href="#test-scope-inheritance" name="test-scope-inheritance" class="anchor"><span class="anchor-link"></span></a>Test Scope Inheritance</h3>
<p><code>IzumiScopesPlugin</code> extends SBT <code>Project</code> with several implicit methods:</p>
<ul>
  <li><code>testOnlyRef</code> - provides you a project reference which is equivalent to <code>% &quot;test&quot;</code> dependency,</li>
  <li><code>dependsSeq</code> and <code>depends</code> - allow you to add dependencies to your project the way test scopes of your dependencies are visible within test scopes of your project. So, essentially when you use these methods your dependencies are added into your projects with the following qualifier: <code>&quot;test-&gt;compile,test;it-&gt;compile,test,it&quot;</code></li>
</ul>
<p>You need to activate <code>DefaultItSettingsGroup</code> on your projects (see &ldquo;Setting Groups&rdquo; below) in order to make this working on <code>it</code> scope.</p>
<p>Example:</p>
<pre class="prettyprint"><code class="language-scala">lazy val myLibrary = ...

lazy val myProject = (...).depends(myLibrary)
</code></pre>
<p>So, now you may use classes from the test scope of <code>myLibrary</code> within test scope of <code>myProject</code></p>
<h3><a href="#test-scope-separation" name="test-scope-separation" class="anchor"><span class="anchor-link"></span></a>Test Scope Separation</h3>
<p><code>InheritedTestScopesPlugin</code> works in pair with <code>IzumiScopesPlugin</code> and provides you an unique feature: only the classes you marked with <code>@ExposedTestScope</code> are being exposed to dependant artifacts.</p>
<p>So, let&rsquo;s assume that:</p>
<ul>
  <li>you have two artifacts, <code>Library</code> and <code>App</code>,</li>
  <li><code>App</code> depends on <code>Library</code>,</li>
  <li>In the test scope of <code>Library</code> you have a class named <code>TestSuite</code>,</li>
  <li>In the test scope of <code>Library</code> you have another class named <code>TestUtil</code>,</li>
  <li><code>TestUtil</code> is annotated with <code>@ExposedTestScope</code>,</li>
</ul>
<p>in that case <code>TestUtil</code> will be visible in <code>App</code>&rsquo;s test scope, but <code>TestSuite</code> will not be visible.</p>
<p>A diagram:</p>
<pre class="prettyprint"><code class="nocode">+-----------------------------------------+     +-----------------------------------------+
| Library                                 |     | App                                     |
|-----------------------------------------|     |-----------------------------------------|
| Main scope                              |     | Main scope                              |
|                                     &lt;---+-----+--                                       |
| UtilityClass                            |     | AppMain                                 |
|-----------------------------------------|     |-----------------------------------------+
| Private Test Scope | Exposed test scope |     | Test scope                              |
|                    |                &lt;---+-----+--                                       |
| TestSuite          | TestUtil           |     | Private Test Scope | Exposed test scope |
+-----------------------------------------+     +-----------------------------------------+
</code></pre>
<p>Notes:</p>
<ul>
  <li>Intellij IDEA doesn&rsquo;t support overriden classpaths so when you run your tests under IDEA the whole test scopes are visible in dependencies,</li>
  <li>At the moment the implementation of <code>@ExposedTestScope</code> (substring presence check) is imperfect and has to be improved,</li>
  <li><strong>Transitive dependencies are not checked</strong>, so in case you expose a class but do not expose it&rsquo;s dependencies your build will  work under IDEA, but you will a classloading exception under sbt.  This is going to be <a href="https://github.com/7mind/izumi/issues/6">improved</a> in the future.</li>
</ul>
<h3><a href="#test-scope-publishing" name="test-scope-publishing" class="anchor"><span class="anchor-link"></span></a>Test Scope Publishing</h3>
<p>The whole content of test scopes is being published by default with <code>test</code> qualifier. Test scope separation has no effect on test scope publishing.</p>
<h2><a href="#settings-dsl" name="settings-dsl" class="anchor"><span class="anchor-link"></span></a>Settings DSL</h2>
<p><code>IzumiDslPlugin</code> comes with a DSL intended to simplify definition of complex project layouts.</p>
<p>To activate the plugin add the following statement into your root project:</p>
<pre class="prettyprint"><code class="language-scala">enablePlugins(IzumiDslPlugin)
</code></pre>
<h3><a href="#simplified-identifiers" name="simplified-identifiers" class="anchor"><span class="anchor-link"></span></a>Simplified Identifiers</h3>
<p>DSL provides syntax to simplify project definitions. A definition such as this:</p>
<pre class="prettyprint"><code class="language-scala">lazy val petstoreApp = In(&quot;app&quot;).as.module
</code></pre>
<p>expands to</p>
<pre><code>lazy val petstoreApp = project.in(&quot;app/petstore-app&quot;)
</code></pre>
<p>You can attach settings and dependencies to the <code>In</code> part, that way you can apply common settings to all the projects in a directory:</p>
<pre class="prettyprint"><code class="language-scala">val ApiSettings = new SettingsGroup {
  override val plugins = Set(IdealinguaPlugin)
}

lazy val inApi = In(&quot;api&quot;).settings(ApiSettings)

lazy val petstoreApi = inApi.as.module
lazy val todomvcApi = inApi.as.module
</code></pre>
<h3><a href="#setting-groups" name="setting-groups" class="anchor"><span class="anchor-link"></span></a>Setting Groups</h3>
<h4><a href="#global-setting-group" name="global-setting-group" class="anchor"><span class="anchor-link"></span></a>Global Setting Group</h4>
<h3><a href="#automatic-aggregation" name="automatic-aggregation" class="anchor"><span class="anchor-link"></span></a>Automatic Aggregation</h3>
<p>When you use <code>.as.project</code> or <code>.as.module</code> syntax to define a project, that project is stored in a global singleton.</p>
<p>You may use <code>transitiveAggregate</code> or <code>transitiveAggregateSeq</code> methods instead of standard <code>aggregate</code>, in that case all the transitive dependencies of the projects provided will be also added into aggregation list. This allows you to simplify your definitions by avoiding specifing all the modules in <code>.aggregate</code>.</p>
<p>In case you don&rsquo;t want your project to be recorded, you shoud use <code>.as.just</code> syntax.</p><div class="callout warning "><div class="callout-title">Important note: sbt is lazy!</div>
<p>We just store project reference in a singleton list, we don&rsquo;t analyze dependency graph. Though sbt relies on <code>lazy val</code> declarations. <em>So, in fact the singleton initializes at the moment you invoke aggregation.</em> In case you don&rsquo;t add a project into aggregation list such a project still will be initialized by sbt and added into the singleton, but it would happen <em>later</em> than evaluation of aggregation list so the project will not be aggregated.</p></div>
<h3><a href="#aggregation-safety-check" name="aggregation-safety-check" class="anchor"><span class="anchor-link"></span></a>Aggregation Safety Check</h3>
<p>When you invoke <code>transitiveAggregate</code> or <code>transitiveAggregateSeq</code> on your root project it checks if the accumulated set of known project is the same as the set of all projects loaded by sbt.</p>
<p>In case module is missing you&rsquo;ll get a warning. This makes it unlikely for you to accidentally forget to aggregate a module in multi-module project.</p>
<h2><a href="#build-descriptors" name="build-descriptors" class="anchor"><span class="anchor-link"></span></a>Build Descriptors</h2>
<h3><a href="#bills-of-materials" name="bills-of-materials" class="anchor"><span class="anchor-link"></span></a>Bills of Materials</h3>
<p>Izumi brings <a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">Bill of Materials</a> concept to SBT.</p>
<h4><a href="#izumi-bom" name="izumi-bom" class="anchor"><span class="anchor-link"></span></a>Izumi BOM</h4>
<p>You can import Izumi libraries and transitive dependencies without specifying their version or even <em>artifact names</em>. To do that add <code>sbt-izumi-deps</code> SBT plugin:</p>
<pre class="prettyprint"><code class="language-scala">val izumi_version = &quot;0.9.6-SNAPSHOT&quot;
addSbtPlugin(&quot;io.7mind.izumi&quot; % &quot;sbt-izumi-deps&quot; % izumi_version)
</code></pre>
<p>You can use it like this:</p>
<pre class="prettyprint"><code class="language-scala">libraryDependencies += Izumi.R.distage_core // Import an izumi library
libraryDependencies += IzumiDeps.R.cats_effect // Import a dependency of izumi
libraryDependencies += IzumiDeps.T.scalatest // Import a dependency of izumi in test scope
</code></pre>
<p>R is for Runtime artifacts and T is for Test scope artifacts</p>
<h4><a href="#create-a-bom-for-your-projects" name="create-a-bom-for-your-projects" class="anchor"><span class="anchor-link"></span></a>Create a BOM for your projects</h4>
<p><code>sbt-izumi-deps</code> allows you to a create BOMs for your own projects. Just add the following snippet into your project settings:</p>
<pre class="prettyprint"><code class="language-scala">lazy val myProject = (project in file(&quot;my-project-bom&quot;))
  .settings(withBuildInfo(&quot;com.mycompany.myproject&quot;, &quot;MyProjectBOM&quot;))
</code></pre>
<p>If you use Izumi SBT DSL, you can use the following syntax:</p>
<pre class="prettyprint"><code class="language-scala">lazy val inRoot = In(&quot;.&quot;)
lazy val myProjectBom = inRoot.as.module
  .settings(withBuildInfo(&quot;com.mycompany.myproject&quot;, &quot;MyProjectBOM&quot;))

</code></pre>
<p>If you want to include BOMs of you project, you can use the following syntax:</p>
<pre class="prettyprint"><code class="language-scala"><br/>import com.mycompany.myproject.MyProjectBOM

lazy val myLib = In(&quot;lib&quot;).as.module
  .settings(
    libraryDependencies ++= Seq(
      MyProjectBOM.R.my_project_bom,     // Runtime artifact
      MyProjectBOM.T.my_project_bom,     // Runtime artifacts for test scope*
      MyProjectBOM.TSR.my_project_bom,   // Test artifacts
      MyProjectBOM.TST.my_project_bom,   // Test artifacts for test scope
    )
  )

</code></pre>
<h3><a href="#build-manifest-entries" name="build-manifest-entries" class="anchor"><span class="anchor-link"></span></a>Build Manifest entries</h3>
<h3><a href="#git-manifest-entries" name="git-manifest-entries" class="anchor"><span class="anchor-link"></span></a>Git Manifest entries</h3>
<p><code>GitStampPlugin</code> adds the following values into <code>MANIFEST.MF</code> of each <code>jar</code> artifact produced:</p>
<table>
  <thead>
    <tr>
      <th>Manifest Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>X-Git-Branch</code> </td>
      <td>The name of branch sbt was invoked on </td>
    </tr>
    <tr>
      <td><code>X-Git-Repo-Is-Clean</code> </td>
      <td><code>true</code> or <code>false</code>, indicates if GIT repo was in clean state when the build was invoked </td>
    </tr>
    <tr>
      <td><code>X-Git-Head-Rev</code> </td>
      <td>GIT revision on which sbt was invoked </td>
    </tr>
  </tbody>
</table>
<p>To activate the plugin add the following statement into your root project:</p>
<pre class="prettyprint"><code class="language-scala">enablePlugins(GitStampPlugin)
</code></pre>
<h2><a href="#convenience-helpers" name="convenience-helpers" class="anchor"><span class="anchor-link"></span></a>Convenience Helpers</h2>
<h3><a href="#stub-generators" name="stub-generators" class="anchor"><span class="anchor-link"></span></a>Stub Generators</h3>
<p><code>ConvenienceTasksPlugin</code> provides you the following commands:</p>
<ul>
  <li><code>newModule &lt;module_path/module_name&gt; [package.suffix]</code>: creates empty project layout at <code>/module_path/module_name</code>. Optional <code>package.suffix</code> may be specified.</li>
  <li><code>newStub &lt;module_path/module_name&gt; [stub_name:default]</code>: copies <code>/stubs/${stub_name}</code> into <code>/module_path/module_name</code>. <code>stub_name</code> may be omitted, default value is <code>default</code></li>
</ul>
<table>
  <thead>
    <tr>
      <th>Setting </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ConvenienceTasksPlugin.Keys.mkJavaDirs </td>
      <td>Also adds <code>src/*/java</code> directories into generated stubs </td>
    </tr>
    <tr>
      <td>ConvenienceTasksPlugin.Keys.defaultStubPackage </td>
      <td>Default stub package. By default same as project&rsquo;s <code>organization</code> </td>
    </tr>
  </tbody>
</table>
<h3><a href="#version-suffixes" name="version-suffixes" class="anchor"><span class="anchor-link"></span></a>Version Suffixes</h3>
<p><code>ConvenienceTasksPlugin</code> provides you command</p>
<pre><code>addVersionSuffix SUFFIX
</code></pre>
<p>This command updates project version defined in <code>version.sbt</code> with qualifier <code>SUFFIX-SNAPSHOT</code></p>
<ul>
  <li>Existing qualifiers will be removed.</li>
  <li><code>1.0.0</code> would become <code>1.0.0-SUFFIX-SNAPSHOT</code></li>
  <li><code>1.0.0-SNAPSHOT</code> would become <code>1.0.0-SUFFIX-SNAPSHOT</code></li>
</ul>
<p>You may need this command while setting up a build for feature branches and wish to avoid situation when different branches publishes artifacts with the same names.</p>
<h3><a href="#target-preservation" name="target-preservation" class="anchor"><span class="anchor-link"></span></a><code>target</code> preservation</h3>
<p><code>ConvenienceTasksPlugin</code> provides you command</p>
<pre><code>preserveTargets SUFFIX
</code></pre>
<p>This command recursively enumerates all the directories named <code>target</code> and recursively copies them using name <code>target.SUFFIX</code>.</p>
<p>You may need this command while setting up a build where you wish to perform <code>clean</code> several times but want to preserve intermediate build artifacts stored in <code>target</code> directories. The most frequent case is coverage build followed by tests and then by production build. In this case you would like to use a command sequence like</p>
<pre><code>;clean;coverage;test;coverageOff;coverageReport;preserveTargets coverage;clean;publish
</code></pre>
<h3><a href="#directory-cleanups" name="directory-cleanups" class="anchor"><span class="anchor-link"></span></a>Directory cleanups</h3>
<p><code>ConvenienceTasksPlugin</code> provides you command</p>
<pre><code>rmDirs target.coverage
</code></pre>
<p>This command recursively removes all the directories named <code>target.coverage</code> across the project.</p>
<p>You may need this command to cleanup preserved target directories, or destroy some build artifacts, like <code>rmDirs scala-2.11</code></p>
<h3><a href="#property-readers" name="property-readers" class="anchor"><span class="anchor-link"></span></a>Property Readers</h3>
<p><code>IzumiPropertiesPlugin</code> provides you implicit classes allowing you to convert Strings into Integers or Booleans exceptions-safe and do the same for system properties:</p>
<pre class="prettyprint"><code class="language-scala">&quot;true&quot;.asBoolean(default = false) // true
&quot;junk&quot;.asBoolean(default = false) // false
&quot;123&quot;.asInt(default = 265) // 123
&quot;junk&quot;.asInt(default = 265) // 265
sys.props.asBoolean(&quot;my.property&quot;, default = false)
sys.props.asInt(&quot;my.property&quot;, default = 123)
</code></pre>
<p>You may activate this plugin with the following statement in root project:</p>
<h3><a href="#transitive-artifact-downloader" name="transitive-artifact-downloader" class="anchor"><span class="anchor-link"></span></a>Transitive Artifact Downloader</h3>
<p>TODO</p>
<h2><a href="#optional-settings" name="optional-settings" class="anchor"><span class="anchor-link"></span></a>Optional settings</h2>
<h3><a href="#publishing" name="publishing" class="anchor"><span class="anchor-link"></span></a>Publishing</h3>
<p>TODO</p>
<h4><a href="#publishing-settings" name="publishing-settings" class="anchor"><span class="anchor-link"></span></a>Publishing settings</h4>
<p>TODO</p>
<h4><a href="#publishing-credentials-and-targets" name="publishing-credentials-and-targets" class="anchor"><span class="anchor-link"></span></a>Publishing credentials and targets</h4>
<p>TODO</p>
<h3><a href="#compiler-options" name="compiler-options" class="anchor"><span class="anchor-link"></span></a>Compiler options</h3>
<p><code>CompilerOptionsPlugin</code> provides you some sane compiler option presets (linting, optimizations).</p>
<p>You should explicitly enable this plugin in each project you want to use it. When you want to enable it globally, use a settings group:</p>
<pre class="prettyprint"><code class="language-scala">val GlobalSettings = new SettingsGroup {
  override val plugins = Set(
      IzumiCompilerOptionsPlugin,
      // ...
  )
  // ...
}
</code></pre>
<h3><a href="#resolvers" name="resolvers" class="anchor"><span class="anchor-link"></span></a>Resolvers</h3>
<p><code>ResolverPlugin</code> turns on the following settings which should speedup your dependency resolution:</p>
<pre class="prettyprint"><code class="language-scala">updateOptions := updateOptions
  .value
  .withCachedResolution(true)
  .withGigahorse(true)
</code></pre>
</div>
<div>
<a href="https://github.com/7mind/izumi/tree/master/doc/microsite/target/mdoc/sbt/00_sbt.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.9.6*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../logstage/custom_ctx.html" title="Custom Context" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Custom Context
</span>
</div>
</a>
<a href="../manifesto/index.html" title="Productivity and challenges" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Productivity and challenges
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
7mind.io
</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.583bbe55.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
